---
description: 當處於 Planning 模式或進行任務規劃時，自動將計畫存檔至 Shared/Plans 目錄，並確保與本地存檔同步
alwaysApply: false
---
# Planning Archive & Sync Rule

為了確保專案內的開發計畫始終保持最新並可追蹤，請遵循以下規則：

## 1. 偵測與觸發情境
- 當使用者在 Cursor 的 **Planning** 模式下進行任務討論時。
- 當執行 `/planning` 工作流產生新的「實作計畫 (Implementation Plan)」時。
- 當針對已有的計畫進行修改或優化時。

## 2. 自動存檔流程
在計畫初步達成共識或完成時，必須**主動**同步執行以下存檔動作：
- **存檔目錄**：`Shared/Plans/`
- **檔名規範**：`{任務名稱簡稱}_{日期}.md` (例如：`OrderSync_20260122.md`)
- **檔案開頭**：必須包含 `# Implementation Plan: {任務名稱}`。
- **內容要求**：
    - 任務目標與範圍。
    - 詳細的實作步驟 (Step-by-step)。
    - 預計影響的檔案清單。
    - 技術決策與考量點。

## 3. 同步與更新規則
- **自動更新**：當使用者在對話中對已存在的計畫提出修改建議，且你更新了內部的計畫 Artifact 時，必須**主動**同步更新對應在 `Shared/Plans/` 目錄下的 Markdown 檔案。
- **一致性**：確保對話中的計畫內容與本地 Markdown 檔案內容完全一致。

## 4. 透明性要求
- 每次建立或同步更新計畫檔案後，必須在對話中明確告知使用者：
    > 「已同步更新實作計畫至 {檔案路徑}」
- 並在適當時機提供檔案連結方便使用者點擊查看。
